<%- include('../layouts/adminheader.ejs') %>

<div class="container ">
    <div class="row">
        <div class="col-md-4">
          <div class="row">
            <div class="col">
                <div class="card">
                    <div class="text-center">
                        <h3>Admin</h3>
                    </div>
                    <div>
                        <ul class="list-group list-group-flush ">
                            <li  class="list-group-item" >User management
                                <ul class="list-group list-group-flush ">
                                    <li class="list-group-item" ><a href="/admin/usermanage" class="text-decoration-none">Manage User</a></li>
                                </ul>
                            </li>
                            <li  class="list-group-item" >Product management
                                <ul class="list-group list-group-flush ">
                                    <li class="list-group-item" ><a href="/admin/products" class="text-decoration-none">View Product </a></li>
                                    <li class="list-group-item" ><a href="/admin/addproduct" class="text-decoration-none">Add Product</a></li>
                                </ul>
                            </li>
                            <li  class="list-group-item" >Category management
                                <ul class="list-group list-group-flush ">
                                    <li class="list-group-item" ><a href="/admin/categorymanage" class="text-decoration-none">Manage Category </a></li>
                                    <li class="list-group-item" ><a href="/admin/addcategory" class="text-decoration-none">Add Category</a></li>
                                </ul>
                            </li>
                            <li  class="list-group-item" >Order management
                                <ul class="list-group list-group-flush ">
                                    <li class="list-group-item" ><a href="/admin/allorders" class="text-decoration-none">All Orders</a></li>
                                </ul>
                            </li>
                            
                            <li  class="list-group-item" >Coupon management
                                <ul class="list-group list-group-flush ">
                                    <li class="list-group-item" ><a href="/admin/allcoupons" class="text-decoration-none">All coupons</a></li>
                                    <li class="list-group-item" ><a href="/admin/addcoupons" class="text-decoration-none">add coupons</a></li>
                                   
                                </ul>
                            </li>
                        </ul>
                    </div>

                </div>
            </div>
            </div>
        </div>
        <div class="col-md-8">
          <div class="row">
            <div class="col">
              <div class="container">
                <h1>Edit Coupon</h1>
                  <div class="row">
                      <div class="col-md-8">
                          <form action="/admin/couponmanage/editcoupon/<%= coupon._id %>" method="post" class="form-control">
                              <div class="form-group">
                                  <label for="">Coupon Code</label>
                                  <input type="text" name="couponcode"  class="form-control" value="<%= coupon.code %>">
                              </div>
                              <div class="form-group ">
                                  <label for="">Discount Type</label>
                                  <select name="discountType" id="" class="form-control"  required="true">
                                    <option  class="form-control">Select Discount Type</option>
                                    <option class="form-control" value="percentage" <%= coupon.discountType === 'percentage'?'selected':'' %>>percentage</option>
                                    <option value="fixed" class="form-control" <%= coupon.discountType === 'fixed'?'selected':'' %>>fixed</option >
                                  </select>
                              </div>
                              <div class="form-group">
                                <label for="">Discount amount</label>
                                <input type="number" name="discountAmount"  class="form-control" value="<%= coupon.discountAmount %>">
                            </div>

                            <div class="form-group">
                                <label for="">Discount amount</label>
                                <input type="number" name="maxDiscountAmount"  class="form-control" value="<%= coupon.maxDiscountAmount %>">
                            </div>
                            <div class="form-group">
                                <label for="">Expirey Date</label>
                                <input type="date" name="expiryDate"  class="form-control" value="<%= coupon.expiryDate.toISOString().split('T')[0] %>" required="true">
                            </div>


                              <div class="form-group">
                                  <input type="submit" class="btn btn-primary my-2" value="Edit Coupons" >
                              </div>
                          </form>
                          <% if (errors && errors.length > 0) { %>
                            <div class="alert alert-danger">
                                <ul>
                                    <% errors.forEach(error => { %>
                                        <li><%= error %></li>
                                    <% }); %>
                                </ul>
                            </div>
                        <% } %>
                      </div>
                  </div>
              
              </div>
            </div>
          </div>

        </div>
        
  
    </div>
  </div>
  



<%- include('../layouts/adminfooter.ejs') %>